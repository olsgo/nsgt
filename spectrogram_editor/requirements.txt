# Real-time Spectrogram Editor Dependencies
# Optimized for Apple Silicon and Python 3.12
# Core dependencies for DSP service

# GPU acceleration and tensor operations (Apple Silicon optimized)
torch>=2.1.0
nnAudio>=0.3.2
torchaudio>=2.1.0

# NSGT library (local)
# Note: install local nsgt package with: pip install -e .

# Audio processing (with Apple Silicon wheels)
librosa>=0.10.1
soundfile>=0.12.1
pysndfile>=1.4.0

# IPC and communication (latest stable versions)
grpcio>=1.59.0
grpcio-tools>=1.59.0
uvloop>=0.19.0
fastapi>=0.104.0
uvicorn>=0.24.0

# GPU memory management and optimization
# Use cupy for x86_64, fallback to CPU for Apple Silicon
cupy-cuda11x>=12.0.0; platform_machine=='x86_64'
numba>=0.58.0

# Development and testing (Python 3.12 compatible)
pytest>=7.4.0
black>=23.9.0
isort>=5.12.0
mypy>=1.5.0

# Optional: for DLPack integration
dlpack>=0.1.0

# Optional: for additional compute (Apple Silicon optimized)
opencv-python>=4.8.1
pillow>=10.0.0

# Ensure numpy compatibility
numpy>=1.24.0